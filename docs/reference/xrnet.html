<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fit hierarchical regularized regression model — xrnet • xrnet</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fit hierarchical regularized regression model — xrnet" />
<meta property="og:description" content="Fits hierarchical regularized regression model that enables the incorporation of external data
for predictor variables. Both the predictor variables and external data can be regularized
by the most common penalties (lasso, ridge, elastic net).
Solutions are computed across a two-dimensional grid of penalties (a separate penalty path is computed
for the predictors and external variables). Currently support regularized linear and logistic regression,
future extensions to other outcomes (i.e. Cox regression) will be implemented in the next major update." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">xrnet</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USCbiostats/xrnet">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fit hierarchical regularized regression model</h1>
    <small class="dont-index">Source: <a href='https://github.com/USCbiostats/xrnet/blob/master/R/xrnet.R'><code>R/xrnet.R</code></a></small>
    <div class="hidden name"><code>xrnet.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Fits hierarchical regularized regression model that enables the incorporation of external data
for predictor variables. Both the predictor variables and external data can be regularized
by the most common penalties (lasso, ridge, elastic net).
Solutions are computed across a two-dimensional grid of penalties (a separate penalty path is computed
for the predictors and external variables). Currently support regularized linear and logistic regression,
future extensions to other outcomes (i.e. Cox regression) will be implemented in the next major update.</p>
    </div>

    <pre class="usage"><span class='fu'>xrnet</span>(
  <span class='no'>x</span>,
  <span class='no'>y</span>,
  <span class='kw'>external</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>unpen</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>family</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gaussian"</span>, <span class='st'>"binomial"</span>),
  <span class='kw'>penalty_main</span> <span class='kw'>=</span> <span class='fu'><a href='define_penalty.html'>define_penalty</a></span>(),
  <span class='kw'>penalty_external</span> <span class='kw'>=</span> <span class='fu'><a href='define_penalty.html'>define_penalty</a></span>(),
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>standardize</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>TRUE</span>, <span class='fl'>TRUE</span>),
  <span class='kw'>intercept</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>),
  <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>()
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>predictor design matrix of dimension \(n x p\), matrix options include:</p><ul>
<li><p>matrix</p></li>
<li><p>big.matrix</p></li>
<li><p>filebacked.big.matrix</p></li>
<li><p>sparse matrix (dgCMatrix)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>outcome vector of length \(n\)</p></td>
    </tr>
    <tr>
      <th>external</th>
      <td><p>(optional) external data design matrix of dimension \(p x q\), matrix options include:</p><ul>
<li><p>matrix</p></li>
<li><p>sparse matrix (dgCMatrix)</p></li>
</ul></td>
    </tr>
    <tr>
      <th>unpen</th>
      <td><p>(optional) unpenalized predictor design matrix, matrix options include:</p><ul>
<li><p>matrix</p></li>
</ul></td>
    </tr>
    <tr>
      <th>family</th>
      <td><p>error distribution for outcome variable, options include:</p><ul>
<li><p>"gaussian"</p></li>
<li><p>"binomial"</p></li>
</ul></td>
    </tr>
    <tr>
      <th>penalty_main</th>
      <td><p>specifies regularization object for x. See <code><a href='define_penalty.html'>define_penalty</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>penalty_external</th>
      <td><p>specifies regularization object for external. See <code><a href='define_penalty.html'>define_penalty</a></code> for more details.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>optional vector of observation-specific weights. Default is 1 for all observations.</p></td>
    </tr>
    <tr>
      <th>standardize</th>
      <td><p>indicates whether x and/or external should be standardized. Default is c(TRUE, TRUE).</p></td>
    </tr>
    <tr>
      <th>intercept</th>
      <td><p>indicates whether an intercept term is included for x and/or external.
Default is c(TRUE, FALSE).</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>specifies xrnet control object. See <code><a href='xrnet.control.html'>xrnet.control</a></code> for more details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of class <code>xrnet</code> with components:</p>
<dt>beta0</dt><dd><p>matrix of first-level intercepts indexed by penalty values</p></dd>
<dt>betas</dt><dd><p>3-dimensional array of first-level penalized coefficients indexed by penalty values</p></dd>
<dt>gammas</dt><dd><p>3-dimensional array of first-level non-penalized coefficients indexed by penalty values</p></dd>
<dt>alpha0</dt><dd><p>matrix of second-level intercepts indexed by penalty values</p></dd>
<dt>alphas</dt><dd><p>3-dimensional array of second-level external data coefficients indexed by penalty values</p></dd>
<dt>penalty</dt><dd><p>vector of first-level penalty values</p></dd>
<dt>penalty_ext</dt><dd><p>vector of second-level penalty values</p></dd>
<dt>family</dt><dd><p>error distribution for outcome variable</p></dd>
<dt>num_passes</dt><dd><p>total number of passes over the data in the coordinate descent algorithm</p></dd>
<dt>status</dt><dd><p>error status for xrnet fitting</p></dd>

     0 = OK
     1 = Error/Warning

<dt>error_msg</dt><dd><p>description of error</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function extends the coordinate descent algorithm of the R package <code>glmnet</code> to allow the
type of regularization (i.e. ridge, lasso) to be feature-specific. This extension is used to enable fitting
hierarchical regularized regression models, where external information for the predictors can be included in the
<code>external=</code> argument. In addition, elements of the R package <code>biglasso</code> are utilized to enable
the use of standard R matrices, memory-mapped matrices from the <code>bigmemory</code> package, or sparse matrices from the <code>Matrix</code> package.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Jerome Friedman, Trevor Hastie, Robert Tibshirani (2010).
Regularization Paths for Generalized Linear Models via Coordinate Descent.
Journal of Statistical Software, 33(1), 1-22. URL http://www.jstatsoft.org/v33/i01/.</p>
<p>Zeng, Y., and Breheny, P. (2017).
The biglasso Package: A Memory- and Computation-Efficient Solver for Lasso Model Fitting with Big Data in R.
arXiv preprint arXiv:1701.05936. URL https://arxiv.org/abs/1701.05936.</p>
<p>Michael J. Kane, John Emerson, Stephen Weston (2013).
Scalable Strategies for Computing with Massive Data.
Journal of Statistical Software, 55(14), 1-19. URL http://www.jstatsoft.org/v55/i14/.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>### hierarchical regularized linear regression ###</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>GaussianExample</span>)

<span class='co'>## define penalty for predictors and external variables</span>
<span class='co'>## default is ridge for predictors and lasso for external</span>
<span class='co'>## see define_penalty() function for more details</span>

<span class='no'>penMain</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='define_penalty.html'>define_penalty</a></span>(<span class='fl'>0</span>, <span class='kw'>num_penalty</span> <span class='kw'>=</span> <span class='fl'>20</span>)
<span class='no'>penExt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='define_penalty.html'>define_penalty</a></span>(<span class='fl'>1</span>, <span class='kw'>num_penalty</span> <span class='kw'>=</span> <span class='fl'>20</span>)

<span class='co'>## fit model with defined regularization</span>
<span class='no'>fit_xrnet</span> <span class='kw'>&lt;-</span> <span class='fu'>xrnet</span>(
    <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x_linear</span>,
    <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y_linear</span>,
    <span class='kw'>external</span> <span class='kw'>=</span> <span class='no'>ext_linear</span>,
    <span class='kw'>family</span> <span class='kw'>=</span> <span class='st'>"gaussian"</span>,
    <span class='kw'>penalty_main</span> <span class='kw'>=</span> <span class='no'>penMain</span>,
    <span class='kw'>penalty_external</span> <span class='kw'>=</span> <span class='no'>penExt</span>
)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Garrett Weaver.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


